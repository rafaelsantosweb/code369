{# {% include '@radix/page/page.twig' %} #}
{#
/**
 * @file
 * Template for the main page.
 */
#}
{% set page_classes = []|merge(page_utility_classes ? page_utility_classes : []) %}

<div class="page">

  {% block banner %}

  {{ attach_library('tiny_slider/tiny_slider') }}

  <div id='hero-banners'>
    <div id='the-banners' {% if heros|length > 1 %} class='my-slider tiny-slider-wrapper' data-settings='{{ slider_settings }}' {% endif %}>
      {% for hero in heros %}
        <div class='hero-banner paragraph--type--hero-banner'>
        {% if hero.img %}

          {% set imagestyle = {
            '#theme': 'image_style',
            '#style_name': 'hero_banner',
            '#uri': hero.img.src.fileuri,
            '#alt': hero.img.alt,
            '#attributes': { class: 'hero-img' },
          } %}
          {{ imagestyle }}
        {% endif %}

        {% if hero.title or hero.body %}
          <div class='hero-wrapper {{ hero.class }}'>
            {% if hero.title %}
              <div class="field field--name-field-title field--type-string field__item">{{ hero.title }}</div>
            {% endif %}
            {% if hero.body %}
              <div class="field field--name-field-body field--type-long field__item">{{ hero.body|raw }}</div>
            {% endif %}
            {% if hero.cta %}
              <div class="field field--name-field-link field--type-link field__item button">
                <a href='{{ hero.cta.url }}'>{{ hero.cta.title }}</a>
              </div>
            {% endif %}
          </div>
        {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
  {% endblock %}

  {% block head_top %}
    {% if page.head_top %}
      <div id="page__head-top">
        <div class="container">
          {{ page.head_top }}
        </div>
      </div>
    {% endif %}
  {% endblock %}

  {% block head_bottom %}
    {% if page.head_bottom %}
      <div id="page__head-bottom">
        <div class="container">
          {{ page.head_bottom }}
        </div>
      </div>
    {% endif %}
  {% endblock %}


  {% embed '@radix/navbar/navbar.twig' with {
    container: 'fixed',
    color: 'light',
    utility_classes: ['bg-light-off'],
  } %}

    {% block branding %}
      {% if page.navbar_branding %}
        {{ page.navbar_branding }}
      {% endif %}
    {% endblock %}

    {% block left %}
      {% if page.navbar_left %}
        <div class="me-auto">
          {{ page.navbar_left }}
        </div>
      {% endif %}
    {% endblock %}

    {% block right %}
      {% if page.navbar_right %}
	<div class="ms-auto">
	  {{ page.navbar_right }}
	</div>
      {% endif %}
    {% endblock %}
  {% endembed %}


  <main{{ content_attributes.addClass(page_classes) }}>
    <a id="main-content" tabindex="-1"></a>{# link is in html.html.twig #}

    {% if page.header %}
      <header class="page__header mb-3">
        <div class="container header_container">
          {{ page.header }}
        </div>
      </header>
    {% endif %}

    {% if page.content %}
      <div class="page__content">
        <div class="no-container">
          {{ page.content }}
        </div>
      </div>
    {% endif %}
  </main>

  {% if page.footer %}
    <footer class="page__footer">
      <div class="container">
        <div class="d-flex flex-column flex-lg-row justify-content-lg-between align-items-lg-top">
          {{ page.footer }}
        </div>
      </div>
    </footer>
  {% endif %}
  {% if page.copyright %}
    <footer id="copyright">
      <div class="d-flex justify-content-md-between align-items-md-center">
        <div class="container">
          {{ page.copyright }}
        </div>
      </div>
    </footer>
  {% endif %}

  {% if teaser %}
  <div id="teaser" class="wrapper">
    <div class="container content">
      Apenas usuários autenticados podem ler todo o conteúdo desta página.
    </div>
  </div>
  {% endif %}

</div>

<div id="authenticatedModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <img src='{{ base_path ~ directory }}/images/logo_firjan_default.svg'/>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">X Fechar</span>
        </button>
      </div>
      <div class="modal-body">
        <img src='{{ base_path ~ directory }}/images/generic_user_profile.svg'/>
        <h2>Conteúdo exclusivo para Code 369</h2>
        <p class='info'>
          Para acessar, insira seu E-mail e Senha 
        </p>

        {# embed the user login form #}
        {{ user_login }}
        <span id='forgot'><a href='/user/password'>Esqueci minha senha.</a></span>

      </div>
      <div class="modal-footer">
      <span id='signup'>Ainda não é associado? <a href='/user'>Associe-se aqui.</a></span>
        <img src='{{ base_path ~ directory }}/images/lock_icon.svg'/>
        {# <button type="button" class="btn btn-primary">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> #}
      </div>
    </div>
  </div>
</div>
